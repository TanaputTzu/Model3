<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>3D Model AR Viewer with Hotspots</title>

  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      background: #f0f0f0;
      text-align: center;
    }

    model-viewer {
      width: 100%;
      max-width: 900px;
      height: 500px;
      background: #ddd;
      margin: 20px auto;
      border-radius: 12px;
    }

    /* จุดสีเขียว */
    .hotspot-btn {
      width: 22px;
      height: 22px;
      background: #00ff00;
      border: 2px solid white;
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      cursor: pointer;
    }

    /* กล่องข้อความ */
    #infoBox {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 18px 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      font-size: 1rem;
      display: none;
      z-index: 1000;
    }

    #closeBtn {
      margin-top: 10px;
      padding: 5px 12px;
      border: none;
      background: #ff6600;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h2>ห้องปฏิบัติการประชุมของสาขา</h2>

<model-viewer id="viewer"
  src="https://modelagency.pw/room502endActive.glb"
  ios-src="https://modelagency.pw/room502endActions.usdz"
  ar
  ar-modes="webxr scene-viewer quick-look"
  camera-controls
  auto-rotate
  environment-image="neutral"
>

  <!-- ⭐ Hotspot จุดสีเขียว -->
  <button
    class="hotspot-btn"
    slot="hotspot-hotspot1"
    data-position="0 1.2 -2"
    data-normal="0 1 0"
    data-info="นี่คือโต๊ะประชุมหลักของห้อง 502">
  </button>

</model-viewer>

<!-- กล่องข้อความ -->
<div id="infoBox">
  <span id="infoText"></span><br>
  <button id="closeBtn">ปิด</button>
</div>

<script>
  // คลิก hotspot
  document.querySelectorAll(".hotspot-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const text = btn.getAttribute("data-info");
      document.getElementById("infoText").innerText = text;
      document.getElementById("infoBox").style.display = "block";
    });
  });

  // ปิดข้อความ
  document.getElementById("closeBtn").onclick = () => {
    document.getElementById("infoBox").style.display = "none";
  };
</script>

</body>
</html>
