<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Model Info Extract</title>

<script type="module"
    src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
</script>

<style>
  body { font-family: sans-serif; padding: 20px; }
  #infoBox {
    background: #f3f3f3;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 2px 10px #0002;
    margin-top: 15px;
    white-space: pre-line;
  }
</style>

</head>

<body>

<h2>‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ (GLB)</h2>

<model-viewer id="mv"
    src="https://modelagency.pw/PCL.glb"
    camera-controls
    autoplay
    auto-rotate
    style="width:100%; height:400px;">
</model-viewer>

<div id="infoBox">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

<script>
const mv = document.querySelector("#mv");
const box = document.querySelector("#infoBox");

mv.addEventListener("load", () => {
  
  // ‡∏ï‡∏±‡∏ß‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏ô‡πÅ‡∏ö‡∏ö Object3D (Three.js)
  const model = mv.model;
  
  if (!model) return;

  // --- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏• ---
  const meshes = [];
  const materials = new Set();
  const nodes = [];
  
  model.traverse((node) => {
    nodes.push(node.name);

    if (node.isMesh) {
      meshes.push(node.name);
      if (node.material) {
        materials.add(node.material.name || "(no name)");
      }
    }
  });

  // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Animation
  const animations = mv.availableAnimations;

  // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  box.innerHTML = `
üìå <b>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•</b>

üîπ ‡∏ä‡∏∑‡πà‡∏≠ Mesh:
${meshes.map(m => "‚Ä¢ " + m).join("\n")}

üîπ ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Material:
${[...materials].map(mat => "‚Ä¢ " + mat).join("\n")}

üîπ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Node ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${nodes.length}

üîπ ‡∏°‡∏µ Animation:
${animations.length > 0 ? animations.join(", ") : "‡πÑ‡∏°‡πà‡∏°‡∏µ animation"}

üîπ Raw Node Tree (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î):
${nodes.map(n => "‚Ä¢ " + n).join("\n")}
  `;
});
</script>

</body>
</html>
